<mat-toolbar style="text-align:center" dir="rtl">
  <span>لیست تیکت‌های من</span>
</mat-toolbar>
<div style="float: right"> <button class="btn btn-info" (click)="create()">تیکت جدید</button></div>
<div class="clearfix"></div>
<div class="grid-wrapper">
  <kendo-grid [data]="view | async" [pageSize]="gridState.take" [skip]="gridState.skip" [filter]="gridState.filter"
    filterable="menu" [pageable]="true" [scrollable]="'none'" (dataStateChange)="onStateChange($event)">
    <kendo-grid-column field="title" title="عنوان"></kendo-grid-column>
    <kendo-grid-column field="requestShDate" title="تاریخ درخواست" filterable=false></kendo-grid-column>
    <kendo-grid-column field="project" title="پروژه" filterable=false></kendo-grid-column>
    <kendo-grid-column field="type" title="نوع" filterable=false></kendo-grid-column>
    <kendo-grid-column field="priority" title="اولویت" filterable=false></kendo-grid-column>
    <kendo-grid-column field="status" title="وضعیت" filterable=false></kendo-grid-column>
    <kendo-grid-column width="200">
      <ng-template kendoGridCellTemplate let-dataItem>
        <button *ngIf="dataItem.statusId == 11" kendoButton [routerLink]="['/response-management',dataItem.requestId]"
          class="btn btn-default">گفتگو</button>
        <button kendoButton [routerLink]="['/request-detail',dataItem.requestId]" class="btn btn-default">جزئیات</button>
      </ng-template>
    </kendo-grid-column>
  </kendo-grid>
  <div *ngIf="loading" class="k-i-loading"></div>
</div>